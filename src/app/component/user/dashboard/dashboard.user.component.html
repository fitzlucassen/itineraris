<md-toolbar color="primary">
	<button md-icon-button (click)="start.toggle();next.close();">
        <md-icon>menu</md-icon>
    </button> &nbsp; &nbsp;
	<span>Tableau de bord</span>
</md-toolbar>

<md-sidenav-container class="left-navigation" [ngStyle]="{'height': screenHeight + 'px'}">
	<md-sidenav #start mode="side" opened="false">
		<div class="myself">
			<span flex=""></span>
			<div layout="row" layout-align="start center">
				<md-icon class="md-avatar ng-isolate-scope md-default-theme">face</md-icon>
				<span flex=""></span>
			</div>
			<span flex=""></span>
			<div class="md-body-2">{{currentUser.name}}</div>
			<div class="md-body-1">{{currentUser.email}}</div>
		</div>

		<md-nav-list>
			<md-list-item>
				<md-icon md-list-avatar>add</md-icon>
				<a md-line href="javascript: void(0);" (click)="openDialog()">Créer un itinéraire</a>
			</md-list-item>
			<md-list-item>
				<md-icon md-list-avatar>remove_red_eye</md-icon>
				<a md-line href="javascript: void(0);" (click)="next.toggle();start.toggle();">Voir les itinéraires</a>
			</md-list-item>

			<md-divider></md-divider>

			<md-list-item>
				<md-icon md-list-avatar>home</md-icon>
				<a md-line href="/">Accueil</a>
			</md-list-item>
			<md-list-item>
				<md-icon md-list-avatar>search</md-icon>
				<a md-line href="/visiteur/itineraires.html">Recherche</a>
			</md-list-item>

			<md-list-item>
				<md-icon md-list-avatar>settings_power</md-icon>
				<a md-line href="javascript: void(0);" (click)="signout()">Deconnexion</a>
			</md-list-item>
		</md-nav-list>
	</md-sidenav>

	<md-sidenav-container class="left-navigation" [ngStyle]="{'height': screenHeight + 'px'}">
		<md-sidenav #next mode="side" opened="false" layout="column" layout-fill class="md-sidenav-left md-sidenav-list" md-component-id="nav">
			<md-toolbar class="md-whiteframe-z1" ng-class="{'md-hue-1':showSearch}">
				<div class="md-toolbar-tools">
					<h3 *ngIf="!showSearch">
						Vos itinéraires
					</h3>
					<md-input-container *ngIf="showSearch">
						<input mdInput md-theme="input" mdInputDirective="focused" [(ngModel)]="search" style="color: white;" placeholder="nom de l'itinéraire" />
					</md-input-container>
					<span flex *ngIf="!showSearch"></span>

					<md-icon *ngIf="!showSearch" (click)="toggleSearch()">search</md-icon>
					<md-icon *ngIf="showSearch" (click)="toggleSearch()">arrow_back</md-icon>
				</div>
			</md-toolbar>

			<p *ngIf="itineraries != null && itineraries.length > 0" class="helper" style="margin-right:1%;">
				Cliquez sur un itinéraire pour <span>ajouter des étapes</span>
			</p>
			<p *ngIf="itineraries != null && itineraries.length > 0" class="helper" style="margin-left:1%;">
				Cliquez ici pour <span>modifier votre itinéraire</span>
			</p>

			<div *ngIf="itineraries != null && itineraries.length > 0" class="arrow-container">
				<img src="/assets/arrow_bottom.png" width="30px" style="left: 60px;"/>
				<img src="/assets/arrow_bottom.png" width="30px" style="right: 10px;"/>
			</div>

			<md-nav-list flex>
				<md-list-item class="md-2-line" *ngFor="let itinerary of itineraries | SearchPipe : search" role="link">
					<md-icon md-list-avatar>airplanemode_active</md-icon>
					<a md-line href="/compte/itinéraire/{{itinerary.id}}/{{replaceAll(itinerary.name.toLowerCase(), ' ', '-')}}"><b>{{itinerary.name}}</b></a>
					<a md-line href="/compte/itinéraire/{{itinerary.id}}/{{replaceAll(itinerary.name.toLowerCase(), ' ', '-')}}">{{itinerary.description}}</a>

					<div>
						<md-icon class="little-icon" (click)="editItinerary(itinerary.id)">mode_edit</md-icon>
						<br/>
						<md-icon class="little-icon" (click)="removeItinerary(itinerary.id)">delete</md-icon>
					</div>
				</md-list-item>
			</md-nav-list>

			<md-spinner *ngIf="isLoading"></md-spinner>
		</md-sidenav>

		<div class="dashboard-home-content">
			<h1 class="big-title">Bienvenue sur votre Dashboard.<br/><br/>Vous pouvez ici créer vos itinéraires de voyage !</h1>
		</div>
	</md-sidenav-container>
</md-sidenav-container>